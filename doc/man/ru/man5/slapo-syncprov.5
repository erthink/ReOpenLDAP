.TH SLAPO-SYNCPROV 5 "RELEASEDATE" "OpenLDAP LDVERSION"
.\" Copyright 2004-2014 The OpenLDAP Foundation All Rights Reserved.
.\" Copying restrictions apply.  See COPYRIGHT/LICENSE.
.\" $OpenLDAP$
.SH НАЗВАНИЕ
slapo\-syncprov \- наложение slapd для настройки сервера-поставщика синхронизации.
.SH ОБЗОР
/usr/local/etc/openldap/slapd.conf
.SH ОПИСАНИЕ
Наложение сервера-поставщика синхронизации реализует поддержку функционала поставщика для
протокола синхронизации содержимого LDAP (LDAP Content Synchronization protocol, RFC4533),
а также поддержку репликации syncrepl. Данное наложение может быть использовано с любым
механизмом манипуляции данными, который обеспечивает в своих записях обслуживание атрибутов
entryCSN и entryUUID. Оно также создаёт атрибут contextCSN в корневой записи базы данных.

Значение атрибута contextCSN обновляется при каждой операции записи, выполняемой в базе
данных. Чтобы снизить возможность возникновения несогласованности в базе данных, значение
contextCSN обновляется только в памяти. Данное значение записывается в базу данных при
остановке сервера и считывается в память при его запуске, после чего обслуживается в памяти.
Для периодической записи значения contextCSN в базу данных с целью минимизации времени
восстановления после аварийной остановки сервера, могут быть настроены контрольные точки
сброса (checkpoint).

При использовании этого наложения полезно настроить индекс eq для атрибута entryCSN
в тех базах данных, которые поддерживают индексы соответствия.
.SH КОНФИГУРАЦИЯ
Приводимые параметры
.B slapd.conf
применяются к наложению поставщика синхронизации. Они должны указываться после директивы
.BR overlay .
.TP
.B syncprov\-checkpoint <ops> <minutes>
После успешного выполнения операции записи, записывать в соответствующую базу данных
значение contextCSN, если с момента прошлого сброса в контрольной точке выполнено
.B <ops>
операций записи или прошло более
.B <minutes>
минут. По умолчанию сброс в контрольных точках отключен.
.TP
.B syncprov\-sessionlog <ops>
Указывает, что в оперативной памяти будет вестись журнал сессии, куда будет помещаться
информация об операциях записи, произведённых в базе данных. Параметр
.B <ops>
определяет количество операций, помещаемых в журнал. В этот журнал помещаются все
операции записи (за исключением Add). При использовании журнала сессии целесообразно
настроить в соответствующей базе данных индекс eq для атрибута entryUUID.
.TP
.B syncprov\-nopresent TRUE | FALSE
Указывает, что фазу наличия при обновлении содержимого каталога нужно пропустить. Данный
параметр следует задавать в TRUE только для тех экземпляров syncprov, которые работают
поверх базы данных журнала (например, такой, которая управляется наложением accesslog).
Значение по умолчанию - FALSE.
.TP
.B syncprov\-reloadhint TRUE | FALSE
Указывает, что наложению следует соблюдать флаг reloadHint в элементе управления Sync
Control. В OpenLDAP 2.3.11 и более ранних версиях потребитель репликации syncrepl неверно
устанавливал этот флаг, поэтому наложение должно было его игнорировать. Данный параметр
следует задавать в TRUE при работе с более новыми релизами, которые поддерживают корректную
установку этого флага. Он должен быть задан в TRUE при использовании наложения accesslog
для поддержки delta-репликации syncrepl. Значение по умолчанию - FALSE.
.SH ФАЙЛЫ
.TP
/usr/local/etc/openldap/slapd.conf
конфигурационный файл slapd по умолчанию.
.SH "СМОТРИТЕ ТАКЖЕ"
.BR slapd.conf (5),
.BR slapd\-config (5),
.BR slapo\-accesslog (5).
Руководство администратора OpenLDAP.
.SH "ПРИЗНАНИЕ ЗАСЛУГ"
.so ../Project
